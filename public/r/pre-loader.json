{
  "name": "pre-loader",
  "type": "registry:block",
  "dependencies": [
    "framer-motion",
    "gsap"
  ],
  "registryDependencies": [],
  "files": [
    {
      "type": "registry:component",
      "path": "components/zenblocks/pre-loader.tsx",
      "target": "components/zenblocks/pre-loader.tsx",
      "content": "\"use client\";\r\n\r\nimport React, { useRef } from \"react\";\r\nimport { useGSAP } from \"@gsap/react\";\r\nimport gsap from \"gsap\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\n/* -------------------------------------------------------------------------- */\r\n/*                                   TYPES                                    */\r\n/* -------------------------------------------------------------------------- */\r\n\r\n\r\nexport type PreLoaderProps = {\r\n  onComplete?: () => void;\r\n  /**\r\n   * The text to display during the loading animation.\r\n   * @default \"S\"\r\n   */\r\n  text?: string;\r\n  /**\r\n   * When true, renders inside a container instead of fullscreen.\r\n   * Used for docs / previews.\r\n   */\r\n  embedded?: boolean;\r\n  className?: string;\r\n};\r\n\r\n/* -------------------------------------------------------------------------- */\r\n/*                                PRELOADER                                   */\r\n/* -------------------------------------------------------------------------- */\r\n\r\nconst PreLoader: React.FC<PreLoaderProps> = ({\r\n  onComplete,\r\n  text = \"Z\",\r\n  embedded = false,\r\n  className,\r\n}) => {\r\n  const screenRef = useRef<HTMLDivElement | null>(null);\r\n  const textRef = useRef<HTMLDivElement | null>(null);\r\n  const percentRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  useGSAP(\r\n    () => {\r\n      if (!screenRef.current || !textRef.current || !percentRef.current) return;\r\n\r\n      /* ---------------------------- Initial State ---------------------------- */\r\n\r\n      gsap.set(textRef.current, {\r\n        scale: 0,\r\n        rotation: 180,\r\n      });\r\n\r\n      gsap.set(percentRef.current, {\r\n        opacity: 0,\r\n        y: 20,\r\n      });\r\n\r\n      /* ------------------------------ Animate In ----------------------------- */\r\n\r\n      gsap.to(textRef.current, {\r\n        scale: 1,\r\n        rotation: 0,\r\n        duration: 1,\r\n        ease: \"back.out(1.7)\",\r\n      });\r\n\r\n      gsap.to(percentRef.current, {\r\n        opacity: 1,\r\n        y: 0,\r\n        duration: 0.5,\r\n        delay: 0.5,\r\n        ease: \"power2.out\",\r\n      });\r\n\r\n      /* ------------------------- Percentage Counter -------------------------- */\r\n\r\n      gsap.to(percentRef.current, {\r\n        innerHTML: 100,\r\n        duration: 2.5,\r\n        delay: 1,\r\n        ease: \"power2.inOut\",\r\n        snap: { innerHTML: 1 },\r\n        onUpdate() {\r\n          const el = this.targets()[0] as HTMLElement;\r\n          const value = Math.round(Number(el.innerHTML));\r\n          el.innerHTML = `${value}%`;\r\n        },\r\n      });\r\n\r\n      /* ------------------------------ Pulse Hold ----------------------------- */\r\n\r\n      gsap.to(textRef.current, {\r\n        scale: 1.1,\r\n        duration: 0.5,\r\n        delay: 1,\r\n        yoyo: true,\r\n        repeat: 1,\r\n        ease: \"power2.inOut\",\r\n      });\r\n\r\n      /* ------------------------------ Animate Out ----------------------------- */\r\n\r\n      gsap.to(textRef.current, {\r\n        scale: 0,\r\n        rotation: -180,\r\n        duration: 0.8,\r\n        delay: 2.5,\r\n        ease: \"back.in(1.7)\",\r\n      });\r\n\r\n      /* ---------------------------- Screen Fade ------------------------------ */\r\n\r\n      gsap.to(screenRef.current, {\r\n        opacity: 0,\r\n        duration: 0.5,\r\n        delay: 3.3,\r\n        ease: \"power1.inOut\",\r\n        onComplete: () => {\r\n          onComplete?.();\r\n        },\r\n      });\r\n    },\r\n    { dependencies: [onComplete] }\r\n  );\r\n\r\n  return (\r\n    <div\r\n      ref={screenRef}\r\n      className={cn(\r\n        \"z-50 pointer-events-none flex items-center justify-center\",\r\n        embedded ? \"absolute inset-0\" : \"fixed inset-0\",\r\n\r\n        /* Surface */\r\n        \"bg-white text-zinc-900\",\r\n        \"dark:bg-black dark:text-white\",\r\n        className\r\n      )}\r\n    >\r\n      {/* Main Letter */}\r\n      <div\r\n        ref={textRef}\r\n        className={cn(\r\n          \"text-[100px] sm:text-[150px] md:text-[200px]\",\r\n          \"font-black tracking-tight\",\r\n          \"text-zinc-900 dark:text-white\"\r\n        )}\r\n      >\r\n        {text}\r\n      </div>\r\n\r\n      {/* Percentage counter */}\r\n      <div\r\n        ref={percentRef}\r\n        className={cn(\r\n          \"absolute bottom-6 right-6\",\r\n          \"text-4xl sm:text-5xl md:text-6xl\",\r\n          \"font-light italic\",\r\n          \"text-zinc-600 dark:text-white/80\"\r\n        )}\r\n      >\r\n        0%\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreLoader;\r\n"
    }
  ]
}