{
  "name": "floating-dock",
  "type": "registry:block",
  "dependencies": [
    "framer-motion",
    "lucide-react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "type": "registry:component",
      "path": "components/zenblocks/floating-dock.tsx",
      "target": "components/zenblocks/floating-dock.tsx",
      "content": "\"use client\";\r\n\r\nimport React, { useRef, useState } from \"react\";\r\nimport {\r\n    AnimatePresence,\r\n    motion,\r\n    useMotionValue,\r\n    useSpring,\r\n    useTransform,\r\n} from \"framer-motion\";\r\nimport {\r\n    LayoutGrid,\r\n    Home,\r\n    Terminal, // Added Terminal\r\n    Layers,\r\n    Settings,\r\n    Github,\r\n    Twitter\r\n} from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport Link from \"next/link\";\r\n\r\nexport interface FloatingDockItem {\r\n    title: string;\r\n    icon: React.ReactElement; // Using ReactElement to allow cloning for strokeWidth\r\n    href: string;\r\n}\r\n\r\nexport interface FloatingDockProps {\r\n    items: FloatingDockItem[];\r\n    desktopClassName?: string;\r\n    mobileClassName?: string;\r\n}\r\n\r\nexport const FloatingDock = ({\r\n    items,\r\n    desktopClassName,\r\n    mobileClassName,\r\n}: FloatingDockProps) => {\r\n    return (\r\n        <>\r\n            <FloatingDockDesktop items={items} className={desktopClassName} />\r\n            <FloatingDockMobile items={items} className={mobileClassName} />\r\n        </>\r\n    );\r\n};\r\n\r\nconst FloatingDockMobile = ({\r\n    items,\r\n    className,\r\n}: {\r\n    items: FloatingDockItem[];\r\n    className?: string;\r\n}) => {\r\n    const [open, setOpen] = useState(false);\r\n    return (\r\n        <div className={cn(\"relative block md:hidden\", className)}>\r\n            <AnimatePresence>\r\n                {open && (\r\n                    <motion.div\r\n                        layoutId=\"nav\"\r\n                        className=\"absolute bottom-full mb-4 inset-x-0 flex flex-col gap-3 items-center\"\r\n                    >\r\n                        {items?.map((item, idx) => (\r\n                            <motion.div\r\n                                key={item.title}\r\n                                initial={{ opacity: 0, y: 10, scale: 0.8 }}\r\n                                animate={{\r\n                                    opacity: 1,\r\n                                    y: 0,\r\n                                    scale: 1\r\n                                }}\r\n                                exit={{\r\n                                    opacity: 0,\r\n                                    y: 10,\r\n                                    scale: 0.8,\r\n                                    transition: {\r\n                                        delay: idx * 0.05,\r\n                                    },\r\n                                }}\r\n                                transition={{ type: \"spring\", stiffness: 300, damping: 20, delay: (items.length - 1 - idx) * 0.05 }}\r\n                            >\r\n                                <Link\r\n                                    href={item.href}\r\n                                    className=\"h-12 w-12 rounded-2xl bg-white dark:bg-zinc-900 flex items-center justify-center border border-zinc-200 dark:border-zinc-800 shadow-xl\"\r\n                                >\r\n                                    <div className=\"h-5 w-5\">{item.icon}</div>\r\n                                </Link>\r\n                            </motion.div>\r\n                        ))}\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n            <button\r\n                onClick={() => setOpen(!open)}\r\n                className=\"h-12 w-12 rounded-2xl bg-zinc-900 dark:bg-white flex items-center justify-center shadow-2xl transition-transform active:scale-90\"\r\n            >\r\n                <LayoutGrid className=\"h-6 w-6 text-white dark:text-zinc-900\" />\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst FloatingDockDesktop = ({\r\n    items,\r\n    className,\r\n}: {\r\n    items: FloatingDockItem[];\r\n    className?: string;\r\n}) => {\r\n    let mouseX = useMotionValue(Infinity);\r\n    return (\r\n        <motion.div\r\n            onMouseMove={(e) => mouseX.set(e.pageX)}\r\n            onMouseLeave={() => mouseX.set(Infinity)}\r\n            className={cn(\r\n                \"mx-auto hidden md:flex h-20 gap-4 items-end rounded-[2.5rem] bg-white/40 dark:bg-zinc-950/40 backdrop-blur-3xl px-6 pb-4 border border-zinc-200/50 dark:border-zinc-800/50 shadow-[0_30px_60px_-15px_rgba(0,0,0,0.1)] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.5)]\",\r\n                className\r\n            )}\r\n        >\r\n            {items?.map((item) => (\r\n                <IconContainer mouseX={mouseX} key={item.title} {...item} />\r\n            ))}\r\n        </motion.div>\r\n    );\r\n};\r\n\r\nfunction IconContainer({\r\n    mouseX,\r\n    title,\r\n    icon,\r\n    href,\r\n}: {\r\n    mouseX: any;\r\n    title: string;\r\n    icon: React.ReactElement;\r\n    href: string;\r\n}) {\r\n    let ref = useRef<HTMLDivElement>(null);\r\n\r\n    let distance = useTransform(mouseX, (val: number) => {\r\n        let bounds = ref.current?.getBoundingClientRect() ?? { x: 0, width: 0 };\r\n        return val - bounds.x - bounds.width / 2;\r\n    });\r\n\r\n    // Proximity Scaling - Iconic Zen \"Liquid\" feel\r\n    let widthSync = useTransform(distance, [-150, 0, 150], [44, 90, 44]);\r\n    let heightSync = useTransform(distance, [-150, 0, 150], [44, 90, 44]);\r\n\r\n    // Floating Effect - Lift icons as they scale\r\n    let ySync = useTransform(distance, [-150, 0, 150], [0, -12, 0]);\r\n\r\n    // Dynamic Stroke - Icons get bolder when focused\r\n    let strokeSync = useTransform(distance, [-150, 0, 150], [1.5, 2.5, 1.5]);\r\n\r\n    let width = useSpring(widthSync, { mass: 0.1, stiffness: 200, damping: 15 });\r\n    let height = useSpring(heightSync, { mass: 0.1, stiffness: 200, damping: 15 });\r\n    let y = useSpring(ySync, { mass: 0.1, stiffness: 200, damping: 15 });\r\n    let strokeWidth = useSpring(strokeSync, { mass: 0.1, stiffness: 200, damping: 15 });\r\n\r\n    const [hovered, setHovered] = useState(false);\r\n\r\n    return (\r\n        <Link href={href}>\r\n            <motion.div\r\n                ref={ref}\r\n                style={{ width, height, y }}\r\n                onMouseEnter={() => setHovered(true)}\r\n                onMouseLeave={() => setHovered(false)}\r\n                className=\"aspect-square rounded-[1.5rem] bg-zinc-50 dark:bg-zinc-900 flex items-center justify-center relative shadow-sm border border-zinc-200 dark:border-zinc-800 hover:border-zinc-400 dark:hover:border-zinc-600 transition-colors group/dock-item\"\r\n            >\r\n                {/* Internal Glow Effect */}\r\n                <motion.div\r\n                    className=\"absolute inset-0 rounded-[1.5rem] bg-gradient-to-t from-zinc-200/50 to-transparent dark:from-white/5 opacity-0 group-hover/dock-item:opacity-100 transition-opacity\"\r\n                />\r\n\r\n                <AnimatePresence>\r\n                    {hovered && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0, y: 10, x: \"-50%\", scale: 0.9 }}\r\n                            animate={{ opacity: 1, y: -45, x: \"-50%\", scale: 1 }}\r\n                            exit={{ opacity: 0, y: 10, x: \"-50%\", scale: 0.9 }}\r\n                            transition={{ type: \"spring\", stiffness: 400, damping: 25 }}\r\n                            className=\"px-3 py-1 whitespace-pre rounded-xl bg-zinc-950 dark:bg-white text-white dark:text-zinc-950 absolute left-1/2 -top-8 w-fit text-[10px] font-black uppercase tracking-widest shadow-2xl z-50 pointer-events-none\"\r\n                        >\r\n                            {title}\r\n                            <div className=\"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 rotate-45 bg-zinc-950 dark:bg-white\" />\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n\r\n                <motion.div\r\n                    className=\"flex items-center justify-center w-full h-full p-2\"\r\n                >\r\n                    {React.cloneElement(icon, {\r\n                        // @ts-ignore - Dynamically injecting strokeWidth for Lucide icons\r\n                        strokeWidth: strokeWidth.get(),\r\n                        className: cn(\"w-1/2 h-1/2 transition-colors\", hovered ? \"text-zinc-900 dark:text-white\" : \"text-zinc-500\")\r\n                    })}\r\n                </motion.div>\r\n\r\n                {/* Indicator Dot */}\r\n                {hovered && (\r\n                    <motion.div\r\n                        layoutId=\"indicator\"\r\n                        className=\"absolute -bottom-2 left-1/2 -translate-x-1/2 w-1 h-1 rounded-full bg-zinc-900 dark:bg-white\"\r\n                    />\r\n                )}\r\n            </motion.div>\r\n        </Link>\r\n    );\r\n}\r\n\r\n/* -------------------------------------------------------------------------- */\r\n/*                                DEMO EXPORT                                 */\r\n/* -------------------------------------------------------------------------- */\r\n\r\nconst DEFAULT_ITEMS: FloatingDockItem[] = [\r\n    { title: \"Home\", icon: <Home className=\"h-full w-full\" />, href: \"#\" },\r\n    { title: \"Products\", icon: <Terminal className=\"h-full w-full\" />, href: \"#\" },\r\n    { title: \"Components\", icon: <LayoutGrid className=\"h-full w-full\" />, href: \"#\" },\r\n];\r\n\r\nconst FloatingDockDemo = () => {\r\n    return (\r\n        <div className=\"flex items-center justify-center w-full h-[400px] p-6 bg-zinc-50 dark:bg-zinc-950 relative overflow-hidden\">\r\n            <div className=\"absolute inset-0 opacity-50 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] dark:bg-[radial-gradient(#27272a_1px,transparent_1px)] [background-size:16px_16px]\" />\r\n            <div className=\"relative z-10\">\r\n                <FloatingDock items={DEFAULT_ITEMS} desktopClassName=\"translate-y-20\" mobileClassName=\"translate-y-20\" />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport { FloatingDockDemo };\r\nexport default FloatingDockDemo;"
    }
  ]
}