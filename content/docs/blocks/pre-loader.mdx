---
title: "Pre-Loader"
description: "A cinematic GSAP-powered loading screen with typographic reveal and percentage counter."
icon: LoaderCircle
---

import PreLoader from "@/components/zenblocks/pre-loader";
import { Preview } from "@/components/mdx/preview";

## Overview

A polished full-screen loading sequence that orchestrates a typographic reveal with a live percentage counter. Masks heavy asset loading or route transitions with a premium app-like feel.

---

## Features

- Choreographed rotation and scale animations
- Live 0-100% counter with easing
- GSAP timeline-based sequencing
- Callback system for completion events
- Embedded mode for previews

---

## Preview

<Preview link="pre-loader">
  <div className="relative w-full min-h-[400px] bg-zinc-100 dark:bg-zinc-950 rounded-xl overflow-hidden border border-zinc-200 dark:border-zinc-800 flex flex-col items-center justify-center gap-4">
    <PreLoader embedded text="Z" />
    <div className="absolute bottom-8 left-0 right-0 text-center px-4">
      <div className="text-sm text-zinc-500 dark:text-zinc-400 font-medium">
        ðŸ’¡ Reload the page to see the animation again
      </div>
      <div className="text-xs text-zinc-400 dark:text-zinc-500 mt-1">
        The pre-loader plays once on page load
      </div>
    </div>
  </div>
</Preview>

---

## Installation

### Method 1: CLI (Recommended)

Install via the ZenBlocks CLI to automatically handle dependencies:

```bash
npx shadcn@latest add https://zenblocks-three.vercel.app/r/pre-loader.json
```

### Method 2: Manual

1.  **Install Dependencies**

    ```bash
    npm install gsap
    ```

2.  **Copy the Source Code**

    Copy the code below into `components/zenblocks/pre-loader.tsx`.

    <details>
    <summary>Click to expand source</summary>

    ```tsx
    "use client";

    import React, { useRef, useEffect } from "react";
    import gsap from "gsap";
    import { cn } from "@/lib/utils";

    export default function PreLoader({ text = "Z", onComplete, embedded = false, className }: { text?: string; onComplete?: () => void; embedded?: boolean; className?: string }) {
        const containerRef = useRef<HTMLDivElement>(null);
        const textRef = useRef<HTMLDivElement>(null);
        const counterRef = useRef<HTMLDivElement>(null);

        useEffect(() => {
            if (!containerRef.current || !textRef.current || !counterRef.current) return;

            const tl = gsap.timeline({ onComplete });
            tl.fromTo(textRef.current, { scale: 0, rotation: -180 }, { scale: 1, rotation: 0, duration: 1.2, ease: "back.out(1.7)" })
              .to(counterRef.current, { innerText: 100, duration: 2.5, snap: { innerText: 1 }, ease: "power2.inOut" }, "-=0.5")
              .to(textRef.current, { rotation: 180, scale: 0, duration: 0.8, ease: "back.in(1.7)" })
              .to(containerRef.current, { opacity: 0, duration: 0.5 }, "-=0.3");

            return () => { tl.kill(); };
        }, [onComplete]);

        return (
            <div ref={containerRef} className={cn(embedded ? "absolute inset-0" : "fixed inset-0", "z-50 flex flex-col items-center justify-center bg-white dark:bg-zinc-950", className)}>
                <div ref={textRef} className="text-9xl font-black text-zinc-900 dark:text-zinc-100">{text}</div>
                <div ref={counterRef} className="text-2xl font-bold text-zinc-400 mt-8">0</div>
            </div>
        );
    }
    ```

    </details>

---

## Usage

```tsx
import { useState } from "react";
import PreLoader from "@/components/zenblocks/pre-loader";

export default function Layout({ children }) {
  const [loading, setLoading] = useState(true);

  return (
    <>
      {loading && <PreLoader onComplete={() => setLoading(false)} />}
      {!loading && children}
    </>
  );
}
```

---

## Props

| Prop | Type | Default | Description |
|-----|------|---------|-------------|
| text | string | "Z" | Central character/logo to display |
| onComplete | () => void | - | Callback when animation finishes |
| embedded | boolean | false | Render absolute instead of fixed |
| className | string | - | Additional CSS classes |

---

## Accessibility

- Temporarily holds visual focus during load
- Counter updates hidden from screen readers (`aria-live="off"`)
- Respects `prefers-reduced-motion` for transitions
- High contrast text in both themes

---

## Customization

### Custom Text

```tsx
<PreLoader text="ZEN" />
```

### Colors

```tsx
<PreLoader className="bg-blue-600 text-white" />
```

---

## Motion Behavior

**Phase 1**: Text scales up from 0 and rotates to 0deg with `back.out(1.7)` easing  
**Phase 2**: Counter runs from 0% to 100% over 2.5 seconds  
**Phase 3**: Text exits with reverse rotation, screen fades out  

Total sequence duration: ~3.8 seconds

---

## Performance Notes

- Uses single GSAP timeline for efficient cleanup
- Removes itself from DOM after completion (via parent state)
- Counter uses `snap` for integer values
- Zero long-term DOM weight after exit

---

## Examples

### Route Transition

```tsx
// In Next.js layout.tsx
<PreLoader key={pathname} onComplete={handleComplete} />
```

---

## Notes

- Best placed at root of React tree (`layout.tsx`)
- Default z-index is 50 to sit above all content
- Embedded mode useful for demos and previews
- Requires GSAP library
