---
title: "Pre-Loader"
description: "A cinematic GSAP-powered loading screen with percentage counter and rotation animations."
icon: LoaderCircle
---

import PreLoader from "@/components/zenblocks/pre-loader";
import { Preview } from "@/components/mdx/preview";

## Overview

The **Pre-Loader** is a full-screen loading animation that uses **GSAP** for precise, timeline-based sequencing. It features a bold typographic reveal with rotation effects and a live percentage counter that animates from 0% to 100%.

It's designed to be dropped into the root of your application or used during route transitions to mask content loading.

---

## Features

-   **Cinematic Entrance**: choreographed typographic rotation and reveal.
-   **Live Counter**: Smooth percentage counting from 0 to 100%.
-   **GSAP Powered**: Uses GreenSock Animation Platform for professional-grade physics.
-   **Customizable Content**: Easily change the central character or logo via props.
-   **Callback System**: Integrated `onComplete` handle for sequencing app initialization.
-   **Dark Mode**: Fully themed for light and dark environments.

---

## Preview

<Preview link="pre-loader">
  <div className="relative w-full h-[400px] bg-zinc-100 dark:bg-zinc-950 rounded-xl overflow-hidden flex items-center justify-center">
    
    <PreLoader embedded />

    <div className="absolute inset-0 flex items-center justify-center pointer-events-none z-0">
      <span className="text-sm text-zinc-400 dark:text-zinc-600 font-mono animate-pulse">
        ✨ Animation Complete. Reload to replay.
      </span>
    </div>
  </div>
</Preview>

---

## Installation

### Method 1: CLI (Recommended)

Install via the ZenBlocks CLI to automatically handle dependencies:

```bash
npx shadcn@latest add https://zenblocks-three.vercel.app/r/pre-loader.json
```

### Method 2: Manual

1.  **Install Dependencies**

    ```bash
    npm install gsap @gsap/react clsx tailwind-merge
    ```

2.  **Copy the Source Code**

    Copy the code below into `components/zenblocks/pre-loader.tsx`.

    <details>
    <summary>Click to expand source</summary>

    ```tsx
    "use client";

    import React, { useRef } from "react";
    import { useGSAP } from "@gsap/react";
    import gsap from "gsap";
    import { cn } from "@/lib/utils";

    /* -------------------------------------------------------------------------- */
    /*                                   TYPES                                    */
    /* -------------------------------------------------------------------------- */

    export type PreLoaderProps = {
      onComplete?: () => void;
      /**
       * The text to display during the loading animation.
       * @default "S"
       */
      text?: string;
      /**
       * When true, renders inside a container instead of fullscreen.
       * Used for docs / previews.
       */
      embedded?: boolean;
      className?: string;
    };

    /* -------------------------------------------------------------------------- */
    /*                                PRELOADER                                   */
    /* -------------------------------------------------------------------------- */

    const PreLoader: React.FC<PreLoaderProps> = ({
      onComplete,
      text = "S",
      embedded = false,
      className,
    }) => {
      const screenRef = useRef<HTMLDivElement | null>(null);
      const textRef = useRef<HTMLDivElement | null>(null);
      const percentRef = useRef<HTMLDivElement | null>(null);

      useGSAP(
        () => {
          if (!screenRef.current || !textRef.current || !percentRef.current) return;

          /* ---------------------------- Initial State ---------------------------- */

          gsap.set(textRef.current, {
            scale: 0,
            rotation: 180,
          });

          gsap.set(percentRef.current, {
            opacity: 0,
            y: 20,
          });

          /* ------------------------------ Animate In ----------------------------- */

          gsap.to(textRef.current, {
            scale: 1,
            rotation: 0,
            duration: 1,
            ease: "back.out(1.7)",
          });

          gsap.to(percentRef.current, {
            opacity: 1,
            y: 0,
            duration: 0.5,
            delay: 0.5,
            ease: "power2.out",
          });

          /* ------------------------- Percentage Counter -------------------------- */

          gsap.to(percentRef.current, {
            innerHTML: 100,
            duration: 2.5,
            delay: 1,
            ease: "power2.inOut",
            snap: { innerHTML: 1 },
            onUpdate() {
              const el = this.targets()[0] as HTMLElement;
              const value = Math.round(Number(el.innerHTML));
              el.innerHTML = `${value}%`;
            },
          });

          /* ------------------------------ Pulse Hold ----------------------------- */

          gsap.to(textRef.current, {
            scale: 1.1,
            duration: 0.5,
            delay: 1,
            yoyo: true,
            repeat: 1,
            ease: "power2.inOut",
          });

          /* ------------------------------ Animate Out ----------------------------- */

          gsap.to(textRef.current, {
            scale: 0,
            rotation: -180,
            duration: 0.8,
            delay: 2.5,
            ease: "back.in(1.7)",
          });

          /* ---------------------------- Screen Fade ------------------------------ */

          gsap.to(screenRef.current, {
            opacity: 0,
            duration: 0.5,
            delay: 3.3,
            ease: "power1.inOut",
            onComplete: () => {
              onComplete?.();
            },
          });
        },
        { dependencies: [onComplete] }
      );

      return (
        <div
          ref={screenRef}
          className={cn(
            "z-50 pointer-events-none flex items-center justify-center",
            embedded ? "absolute inset-0" : "fixed inset-0",

            /* Surface */
            "bg-white text-zinc-900",
            "dark:bg-black dark:text-white",
            className
          )}
        >
          {/* Main Letter */}
          <div
            ref={textRef}
            className={cn(
              "text-[100px] sm:text-[150px] md:text-[200px]",
              "font-black tracking-tight",
              "text-zinc-900 dark:text-white"
            )}
          >
            {text}
          </div>

          {/* Percentage counter */}
          <div
            ref={percentRef}
            className={cn(
              "absolute bottom-6 right-6",
              "text-4xl sm:text-5xl md:text-6xl",
              "font-light italic",
              "text-zinc-600 dark:text-white/80"
            )}
          >
            0%
          </div>
        </div>
      );
    };

    export default PreLoader;
    ```

    </details>

---

## Usage

### Basic Implementation

Use the pre-loader at the root of your application to show during initial load (e.g., in `layout.tsx` or `page.tsx`).

```tsx
"use client";

import { useState } from "react";
import PreLoader from "@/components/zenblocks/pre-loader";

export default function RootLayout({ children }) {
  const [loading, setLoading] = useState(true);

  return (
    <>
      {loading && (
        <PreLoader 
            text="Z" 
            onComplete={() => setLoading(false)} 
        />
      )}
      {!loading && children}
    </>
  );
}
```

### Route Transitions

You can also use it to mask route changes in Next.js.

```tsx
"use client";

import { usePathname } from "next/navigation";
import { useState, useEffect } from "react";
import PreLoader from "@/components/zenblocks/pre-loader";

export function RouteLoader() {
  const pathname = usePathname();
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    setLoading(true);
    // Simulate navigation delay or wait for data
    const timer = setTimeout(() => setLoading(false), 2000); 
    return () => clearTimeout(timer);
  }, [pathname]);

  return loading ? <PreLoader text="APP" /> : null;
}
```

---

## API Reference

### Props

| Prop         | Type         | Default | Description                                                                 |
| :----------- | :----------- | :------ | :-------------------------------------------------------------------------- |
| `text`       | `string`     | `"S"`   | The central character or text to display during the animation.              |
| `onComplete` | `() => void` | —       | Callback function fired when the exit animation sequence finishes.          |
| `embedded`   | `boolean`    | `false` | When `true`, renders absolutely in a parent container instead of fixed fullscreen. |
| `className`  | `string`     | —       | Optional CSS classes for the main container (background colors, etc).       |

---

## Configuration & Customization

### Changing the Text
Simply pass a string to the `text` prop. Short strings (1-3 chars) work best.

```tsx
<PreLoader text="ZEN" />
```

### Custom Styling
You can override the background or typography using the `className` prop or standard CSS overrides. The component uses Tailwind for styling.

```tsx
<PreLoader 
    text="B" 
    className="bg-blue-600 text-white dark:bg-blue-950" 
/>
```

### Animation Timing
For deeper customization of the animation sequence (duration, easing), you will need to modify the `useGSAP` hook inside `pre-loader.tsx` directly. The timeline is clearly commented to help you identify the Entrance, Counter, and Exit phases.
