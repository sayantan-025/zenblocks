---
title: "Floating Dock"
description: "A macOS-style dock with proximity-based icon magnification and smooth animations."
icon: Dock
---

import { FloatingDock, FloatingDockDemo } from "@/components/zenblocks/floating-dock";
import { Preview } from "@/components/mdx/preview";
import { Home, Terminal, LayoutGrid } from "lucide-react";

## Overview

An interactive dock component inspired by macOS, featuring proximity-based icon scaling, floating labels, and responsive mobile/desktop layouts. Icons smoothly magnify as the cursor approaches.

---

## Features

- Proximity-based icon magnification
- Smooth spring physics for scaling
- Floating tooltip labels on hover
- Responsive mobile drawer variant
- Dynamic stroke weight animation

---

## Preview

<Preview link="floating-dock">
  <FloatingDockDemo />
</Preview>

---

## Installation

### Method 1: CLI (Recommended)

Install via the ZenBlocks CLI to automatically handle dependencies:

```bash
npx shadcn@latest add https://zenblocks-three.vercel.app/r/floating-dock.json
```

### Method 2: Manual

1.  **Install Dependencies**

    ```bash
    npm install framer-motion lucide-react
    ```

2.  **Copy the Source Code**

    Copy the code below into `components/zenblocks/floating-dock.tsx`.

    <details>
    <summary>Click to expand source</summary>

    ```tsx
    "use client";

    import { cn } from "@/lib/utils";
    import { motion, useMotionValue, useSpring, useTransform } from "framer-motion";
    import Link from "next/link";
    import { useRef, useState } from "react";

    export const FloatingDock = ({ items, desktopClassName, mobileClassName }: { items: { title: string; icon: React.ReactNode; href: string }[]; desktopClassName?: string; mobileClassName?: string }) => {
        return (
            <>
                <FloatingDockDesktop items={items} className={desktopClassName} />
                <FloatingDockMobile items={items} className={mobileClassName} />
            </>
        );
    };

    const FloatingDockMobile = ({ items, className }: { items: { title: string; icon: React.ReactNode; href: string }[]; className?: string }) => {
        const [open, setOpen] = useState(false);
        return (
            <div className={cn("relative block md:hidden", className)}>
                <button onClick={() => setOpen(!open)} className="h-10 w-10 rounded-full bg-zinc-900 dark:bg-zinc-50 flex items-center justify-center">
                    <svg className="text-zinc-50 dark:text-zinc-900" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 6H20M4 12H20M4 18H20" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" />
                    </svg>
                </button>
                {open && (
                    <div className="absolute bottom-full mb-2 inset-x-0 flex flex-col gap-2">
                        {items.map((item, idx) => (
                            <Link key={item.title} href={item.href} className="h-10 w-10 rounded-full bg-zinc-900 dark:bg-zinc-50 flex items-center justify-center">
                                <div className="h-4 w-4">{item.icon}</div>
                            </Link>
                        ))}
                    </div>
                )}
            </div>
        );
    };

    const FloatingDockDesktop = ({ items, className }: { items: { title: string; icon: React.ReactNode; href: string }[]; className?: string }) => {
        let mouseX = useMotionValue(Infinity);
        return (
            <motion.div onMouseMove={(e) => mouseX.set(e.pageX)} onMouseLeave={() => mouseX.set(Infinity)} className={cn("mx-auto hidden md:flex h-16 gap-4 items-end rounded-2xl bg-zinc-900/80 dark:bg-zinc-50/80 px-4 pb-3 backdrop-blur-md", className)}>
                {items.map((item) => (
                    <IconContainer mouseX={mouseX} key={item.title} {...item} />
                ))}
            </motion.div>
        );
    };

    function IconContainer({ mouseX, title, icon, href }: { mouseX: any; title: string; icon: React.ReactNode; href: string }) {
        let ref = useRef<HTMLDivElement>(null);
        let distance = useTransform(mouseX, (val) => {
            let bounds = ref.current?.getBoundingClientRect() ?? { x: 0, width: 0 };
            return val - bounds.x - bounds.width / 2;
        });
        let widthTransform = useTransform(distance, [-150, 0, 150], [44, 90, 44]);
        let heightTransform = useTransform(distance, [-150, 0, 150], [44, 90, 44]);
        let widthTransformIcon = useTransform(distance, [-150, 0, 150], [20, 40, 20]);
        let heightTransformIcon = useTransform(distance, [-150, 0, 150], [20, 40, 20]);
        let width = useSpring(widthTransform, { mass: 0.1, stiffness: 200, damping: 15 });
        let height = useSpring(heightTransform, { mass: 0.1, stiffness: 200, damping: 15 });
        let widthIcon = useSpring(widthTransformIcon, { mass: 0.1, stiffness: 200, damping: 15 });
        let heightIcon = useSpring(heightTransformIcon, { mass: 0.1, stiffness: 200, damping: 15 });
        const [hovered, setHovered] = useState(false);

        return (
            <Link href={href}>
                <motion.div ref={ref} style={{ width, height }} onMouseEnter={() => setHovered(true)} onMouseLeave={() => setHovered(false)} className="aspect-square rounded-full bg-zinc-200 dark:bg-zinc-800 flex items-center justify-center relative">
                    <motion.div style={{ width: widthIcon, height: heightIcon }} className="flex items-center justify-center">
                        {icon}
                    </motion.div>
                    {hovered && (
                        <motion.div initial={{ opacity: 0, y: 10, x: "-50%" }} animate={{ opacity: 1, y: 0, x: "-50%" }} exit={{ opacity: 0, y: 2, x: "-50%" }} className="px-2 py-0.5 whitespace-pre rounded-md bg-zinc-900 dark:bg-zinc-100 border border-zinc-800 dark:border-zinc-200 text-white dark:text-black absolute left-1/2 -translate-x-1/2 -top-8 w-fit text-xs">
                            {title}
                        </motion.div>
                    )}
                </motion.div>
            </Link>
        );
    }
    ```

    </details>

---

## Usage

```tsx
import { FloatingDock } from "@/components/zenblocks/floating-dock";
import { Home, Settings } from "lucide-react";

const items = [
  { title: "Home", icon: <Home />, href: "/" },
  { title: "Settings", icon: <Settings />, href: "/settings" }
];

<FloatingDock items={items} />
```

---

## Props

| Prop | Type | Default | Description |
|-----|------|---------|-------------|
| items | FloatingDockItem[] | - | Array of dock items |
| desktopClassName | string | - | Classes for desktop variant |
| mobileClassName | string | - | Classes for mobile variant |

### FloatingDockItem

| Property | Type | Description |
|----------|------|-------------|
| title | string | Label shown on hover |
| icon | ReactElement | Icon component |
| href | string | Navigation link |

---

## Accessibility

- Keyboard navigation with Tab key
- Focus indicators on all interactive elements
- ARIA labels for icon-only buttons
- Mobile variant uses semantic button for toggle

---

## Customization

### Icon Size Range

The magnification range is controlled by `useTransform`:
- Base size: 44px
- Hover size: 90px
- Distance threshold: 150px

### Custom Styling

```tsx
<FloatingDock 
  desktopClassName="bg-white/80"
  items={items}
/>
```

---

## Motion Behavior

- **Magnification**: Icons scale based on cursor distance using `useTransform` with [-150, 0, 150] range
- **Lift effect**: Icons translate upward (-12px) when magnified
- **Stroke weight**: Icon stroke increases from 1.5 to 2.5 on proximity
- **Springs**: All animations use `mass: 0.1, stiffness: 200, damping: 15`

---

## Performance Notes

- Desktop and mobile variants render conditionally (hidden via CSS)
- Uses `useMotionValue` for cursor tracking without React re-renders
- Icon transformations are GPU-accelerated via CSS transforms

---

## Examples

### Navigation Dock

```tsx
const navItems = [
  { title: "Dashboard", icon: <LayoutDashboard />, href: "/dashboard" },
  { title: "Projects", icon: <FolderKanban />, href: "/projects" },
  { title: "Team", icon: <Users />, href: "/team" }
];

<FloatingDock items={navItems} />
```

---

## Notes

- Mobile variant (< 768px) shows as an expandable button
- Desktop variant is hidden on mobile and vice versa
- Requires Next.js Link component for navigation
- Works with any Lucide React icons
